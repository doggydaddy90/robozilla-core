services:
  robozilla-runtime:
    image: robozilla/runtime:local
    build: .
    user: "986:986"
    restart: unless-stopped
    env_file:
      - .env
    # No published ports. With host networking, binding to 127.0.0.1 stays local-only.
    network_mode: host
    volumes:
      - /data:/data
      - /logs:/logs
      # Mount repo root at /repo so registry loads orgs/agents/skills from repo (canonical).
      # Path is relative to compose file: ../../ = repo root when compose is at runtime/core/.
      - ../../:/repo:ro
